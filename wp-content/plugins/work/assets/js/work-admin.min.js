!function($){"use strict";function showNotice(message,type){$(".work-admin-notice").remove();const $notice=$('<div class="work-admin-notice notice notice-'+type+' is-dismissible"><p>'+message+"</p></div>");$("#wpbody-content").prepend($notice),$notice.append('<button type="button" class="notice-dismiss"><span class="screen-reader-text">Dismiss this notice.</span></button>'),$notice.find(".notice-dismiss").on("click",(function(){$notice.fadeOut(300,(function(){$(this).remove()}))})),setTimeout((function(){$notice.fadeOut(300,(function(){$(this).remove()}))}),3e3)}$(document).ready((function(){$(".work-toggle-featured").on("click",(function(e){e.preventDefault();const $this=$(this),postId=$this.data("post-id"),$icon=($this.data("nonce"),$this.find(".dashicons"));$icon.css("opacity","0.5"),$.ajax({url:workAdminVars.ajaxurl,type:"POST",data:{action:"work_toggle_featured",post_id:postId,nonce:workAdminVars.toggleFeaturedNonce},success:function(response){response.success?("1"===response.data.new_status?($icon.removeClass("dashicons-star-empty").addClass("dashicons-star-filled"),$icon.css("color","#ffb900"),$icon.attr("title","Featured - Click to remove")):($icon.removeClass("dashicons-star-filled").addClass("dashicons-star-empty"),$icon.css("color","#ccc"),$icon.attr("title","Not Featured - Click to feature")),showNotice(workAdminVars.toggleFeaturedSuccess,"success")):showNotice(workAdminVars.toggleFeaturedError,"error")},error:function(){showNotice(workAdminVars.toggleFeaturedError,"error")},complete:function(){$icon.css("opacity","1")}})}))}))}(jQuery);